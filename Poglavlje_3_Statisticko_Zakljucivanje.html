<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="hr" xml:lang="hr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Metode istraživanja masovne komunikacije">

<title>Od uzorka do populacije</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="Poglavlje_3_Statisticko_Zakljucivanje_files/libs/clipboard/clipboard.min.js"></script>
<script src="Poglavlje_3_Statisticko_Zakljucivanje_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="Poglavlje_3_Statisticko_Zakljucivanje_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="Poglavlje_3_Statisticko_Zakljucivanje_files/libs/quarto-html/popper.min.js"></script>
<script src="Poglavlje_3_Statisticko_Zakljucivanje_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Poglavlje_3_Statisticko_Zakljucivanje_files/libs/quarto-html/anchor.min.js"></script>
<link href="Poglavlje_3_Statisticko_Zakljucivanje_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Poglavlje_3_Statisticko_Zakljucivanje_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Poglavlje_3_Statisticko_Zakljucivanje_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Poglavlje_3_Statisticko_Zakljucivanje_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Poglavlje_3_Statisticko_Zakljucivanje_files/libs/bootstrap/bootstrap-813c323200a87c37e262811031999de4.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-uzorak-populacija" id="toc-sec-uzorak-populacija" class="nav-link active" data-scroll-target="#sec-uzorak-populacija"><span class="header-section-number">1</span> Od uzorka do populacije</a>
  <ul class="collapse">
  <li><a href="#sec-normalna-distribucija" id="toc-sec-normalna-distribucija" class="nav-link" data-scroll-target="#sec-normalna-distribucija"><span class="header-section-number">1.1</span> Normalna distribucija</a>
  <ul class="collapse">
  <li><a href="#sec-karakteristike-normalne" id="toc-sec-karakteristike-normalne" class="nav-link" data-scroll-target="#sec-karakteristike-normalne"><span class="header-section-number">1.1.1</span> Karakteristike normalne distribucije</a></li>
  <li><a href="#sec-empirijsko-pravilo" id="toc-sec-empirijsko-pravilo" class="nav-link" data-scroll-target="#sec-empirijsko-pravilo"><span class="header-section-number">1.1.2</span> Empirijsko pravilo</a></li>
  <li><a href="#sec-vjerojatnosti-povrsine" id="toc-sec-vjerojatnosti-povrsine" class="nav-link" data-scroll-target="#sec-vjerojatnosti-povrsine"><span class="header-section-number">1.1.3</span> Vjerojatnosti i površine ispod krivulje</a></li>
  </ul></li>
  <li><a href="#sec-cgt" id="toc-sec-cgt" class="nav-link" data-scroll-target="#sec-cgt"><span class="header-section-number">1.2</span> Centralni granični teorem</a>
  <ul class="collapse">
  <li><a href="#sec-uzorkovna-distribucija" id="toc-sec-uzorkovna-distribucija" class="nav-link" data-scroll-target="#sec-uzorkovna-distribucija"><span class="header-section-number">1.2.1</span> Uzorkovna distribucija prosjeka</a></li>
  <li><a href="#sec-tri-rezultata-cgt" id="toc-sec-tri-rezultata-cgt" class="nav-link" data-scroll-target="#sec-tri-rezultata-cgt"><span class="header-section-number">1.2.2</span> Tri ključna rezultata CGT-a</a></li>
  <li><a href="#sec-prakticne-implikacije-cgt" id="toc-sec-prakticne-implikacije-cgt" class="nav-link" data-scroll-target="#sec-prakticne-implikacije-cgt"><span class="header-section-number">1.2.3</span> Praktične implikacije</a></li>
  </ul></li>
  <li><a href="#sec-standardna-pogreska" id="toc-sec-standardna-pogreska" class="nav-link" data-scroll-target="#sec-standardna-pogreska"><span class="header-section-number">1.3</span> Standardna pogreška</a>
  <ul class="collapse">
  <li><a href="#sec-razlika-sd-se" id="toc-sec-razlika-sd-se" class="nav-link" data-scroll-target="#sec-razlika-sd-se"><span class="header-section-number">1.3.1</span> Razlika između SD i SE</a></li>
  <li><a href="#sec-primjer-izracuna-se" id="toc-sec-primjer-izracuna-se" class="nav-link" data-scroll-target="#sec-primjer-izracuna-se"><span class="header-section-number">1.3.2</span> Primjer izračuna</a></li>
  <li><a href="#sec-intervali-pouzdanosti" id="toc-sec-intervali-pouzdanosti" class="nav-link" data-scroll-target="#sec-intervali-pouzdanosti"><span class="header-section-number">1.3.3</span> Intervali pouzdanosti</a></li>
  </ul></li>
  <li><a href="#sec-testiranje-hipoteza" id="toc-sec-testiranje-hipoteza" class="nav-link" data-scroll-target="#sec-testiranje-hipoteza"><span class="header-section-number">1.4</span> Testiranje hipoteza</a>
  <ul class="collapse">
  <li><a href="#sec-nul-alternativna" id="toc-sec-nul-alternativna" class="nav-link" data-scroll-target="#sec-nul-alternativna"><span class="header-section-number">1.4.1</span> Nul-hipoteza i alternativna hipoteza</a></li>
  <li><a href="#sec-logika-testiranja" id="toc-sec-logika-testiranja" class="nav-link" data-scroll-target="#sec-logika-testiranja"><span class="header-section-number">1.4.2</span> Logika testiranja</a></li>
  <li><a href="#sec-z-test-primjer" id="toc-sec-z-test-primjer" class="nav-link" data-scroll-target="#sec-z-test-primjer"><span class="header-section-number">1.4.3</span> Z-test: primjer</a></li>
  <li><a href="#sec-p-vrijednost" id="toc-sec-p-vrijednost" class="nav-link" data-scroll-target="#sec-p-vrijednost"><span class="header-section-number">1.4.4</span> P-vrijednost</a></li>
  <li><a href="#sec-moc-i-pogreske" id="toc-sec-moc-i-pogreske" class="nav-link" data-scroll-target="#sec-moc-i-pogreske"><span class="header-section-number">1.4.5</span> Moć testa i pogreške</a></li>
  </ul></li>
  <li><a href="#sažetak" id="toc-sažetak" class="nav-link" data-scroll-target="#sažetak">Sažetak</a></li>
  <li><a href="#reference" id="toc-reference" class="nav-link" data-scroll-target="#reference">Reference</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="Poglavlje_3_Statisticko_Zakljucivanje.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Od uzorka do populacije</h1>
<p class="subtitle lead">Poglavlje 3: Osnove statističkog zaključivanja</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Metode istraživanja masovne komunikacije </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="sec-uzorak-populacija" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Od uzorka do populacije</h1>
<p>Istraživač medija rijetko ima priliku analizirati cijelu populaciju koja ga zanima. Kada istražujemo percepciju kredibiliteta vijesti među hrvatskim građanima, ne možemo anketirati svih 4 milijuna odraslih osoba. Umjesto toga, prikupljamo <strong>uzorak</strong> – možda 500 ili 1000 ispitanika – i na temelju tog uzorka pokušavamo izvesti zaključke o cijeloj <strong>populaciji</strong>. Ova tranzicija od konkretnih podataka koje imamo prema općenitim zaključkama koje želimo predstavlja srž <strong>statističkog zaključivanja</strong>. U ovom poglavlju razmatrat ćemo teorijske temelje koji omogućuju ovaj skok od uzorka do populacije. Započet ćemo s normalnom distribucijom, najvažnijom teorijskom distribucijom u statistici. Zatim ćemo razmotriti centralni granični teorem, koji objašnjava zašto prosjeci uzoraka imaju predvidljivo ponašanje. Konačno, upoznat ćemo standardnu pogrešku i osnovne principe testiranja hipoteza, koji zajedno čine temelj inferenc ijalne statistike.</p>
<section id="sec-normalna-distribucija" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="sec-normalna-distribucija"><span class="header-section-number">1.1</span> Normalna distribucija</h2>
<p>Kada crtamo histogram dnevne gledanosti televizijskih vijesti, vremena provedenog na društvenim mrežama ili ocjena kvalitete članaka, često primjećujemo da distribucija ima karakterističan oblik: podaci se grupiraju oko srednje vrijednosti, s postepenim opadanjem prema ekstremima s obje strane. Ovaj obrazac toliko često se pojavljuje u prirodi i društvenim znanostima da dobiva poseban status u statistici. Naziva se <strong>normalna distribucija</strong> ili “zvonasta krivulja” (engl. <em>bell curve</em>), i predstavlja najvažniju teorijsku distribuciju u svim statistikama.</p>
<section id="sec-karakteristike-normalne" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="sec-karakteristike-normalne"><span class="header-section-number">1.1.1</span> Karakteristike normalne distribucije</h3>
<p>Normalna distribucija je <strong>kontinuirana</strong> distribucija, što znači da može poprimiti bilo koju vrijednost unutar svog raspona, ne samo diskretne brojeve. Za razliku od binomne distribucije gdje možemo dobiti točno 3 ili 4 uspjeha (ali ne 3.5), varijable poput vremena čitanja ili gledanosti mogu poprimiti bilo koju vrijednost. Normalna distribucija potpuno je određena s dva parametra: <strong>sredinom</strong> <span class="math inline">\(\mu\)</span> (čita se “mi”) i <strong>standardnom devijacijom</strong> <span class="math inline">\(\sigma\)</span> (čita se “sigma”). Sredina određuje gdje je distribucija centrirana na brojčanoj osi, dok standardna devijacija određuje koliko je distribucija “raširena” ili “široka”.</p>
<p>Matematičku notaciju za normalnu distribuciju pišemo ovako:</p>
<p><span id="eq-normal-notation"><span class="math display">\[X \sim \text{Normal}(\mu, \sigma) \tag{1}\]</span></span></p>
<p>što se čita: “varijabla X slijedi normalnu distribuciju sa sredinom <span class="math inline">\(\mu\)</span> i standardnom devijacijom <span class="math inline">\(\sigma\)</span>”. Ako kažemo da prosječno vrijeme čitanja članaka na Indexu slijedi normalnu distribuciju sa sredinom od 120 sekundi i standardnom devijacijom od 30 sekundi, zapisali bismo: <span class="math inline">\(X \sim \text{Normal}(120, 30)\)</span>.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Kreiranje standardne normalne distribucije (μ=0, σ=1)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">4</span>, <span class="dv">4</span>, <span class="at">by =</span> <span class="fl">0.01</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">dnorm</span>(x, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, y, <span class="at">type =</span> <span class="st">"l"</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">"blue"</span>,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Standardna normalna distribucija"</span>,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Vrijednost (z-score)"</span>,</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"Gustoća vjerojatnosti"</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Označavanje empirijskog pravila</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>), <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">"red"</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">2</span>), <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">"darkgreen"</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">0</span>, <span class="fl">0.2</span>, <span class="st">"68% podataka</span><span class="sc">\n</span><span class="st">within ±1 SD"</span>, <span class="at">cex =</span> <span class="fl">0.8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="sec-empirijsko-pravilo" class="level3" data-number="1.1.2">
<h3 data-number="1.1.2" class="anchored" data-anchor-id="sec-empirijsko-pravilo"><span class="header-section-number">1.1.2</span> Empirijsko pravilo</h3>
<p>Neovisno o konkretnim vrijednostima sredine i standardne devijacije, sve normalne distribucije dijele važna svojstva. <strong>Empirijsko pravilo</strong> (također poznato kao pravilo 68-95-99.7) govori nam:</p>
<ul>
<li>Približno <strong>68%</strong> opservacija pada unutar jedne standardne devijacije od sredine (<span class="math inline">\(\mu \pm \sigma\)</span>)</li>
<li>Približno <strong>95%</strong> opservacija pada unutar dvije standardne devijacije od sredine (<span class="math inline">\(\mu \pm 2\sigma\)</span>)</li>
<li>Približno <strong>99.7%</strong> opservacija pada unutar tri standardne devijacije od sredine (<span class="math inline">\(\mu \pm 3\sigma\)</span>)</li>
</ul>
<p>Za konkretni primjer, pretpostavimo da prosječno vrijeme čitanja članaka na Index.hr slijedi normalnu distribuciju s <span class="math inline">\(\mu = 120\)</span> sekundi i <span class="math inline">\(\sigma = 30\)</span> sekundi. Prema empirijskom pravilu, 68% čitatelja provodi između 90 i 150 sekundi (120 ± 30), 95% između 60 i 180 sekundi (120 ± 60), i gotovo svi (99.7%) između 30 i 210 sekundi (120 ± 90). Ovo pravilo omogućuje brzu procjenu normalnosti distribucije: ako su naši stvarni podaci vrlo daleko od ovih postotaka, možda distribucija nije normalna.</p>
</section>
<section id="sec-vjerojatnosti-povrsine" class="level3" data-number="1.1.3">
<h3 data-number="1.1.3" class="anchored" data-anchor-id="sec-vjerojatnosti-povrsine"><span class="header-section-number">1.1.3</span> Vjerojatnosti i površine ispod krivulje</h3>
<p>Za kontinuirane distribucije poput normalne, vjerojatnost ne pripisujemo pojedinačnim točkama već intervalima. Pitanje “kolika je vjerojatnost da čitatelj provede točno 120.0000 sekundi” nema smisla – odgovor je nula. Međutim, pitanje “kolika je vjerojatnost da čitatelj provede između 110 i 130 sekundi” ima jasan odgovor, i taj odgovor daje nam <strong>površina ispod krivulje</strong> između tih dviju točaka.</p>
<p>U R-u koristimo <code>pnorm()</code> funkciju za izračun kumulativnih vjerojatnosti. Na primjer, koliki postotak čitatelja provodi manje od 100 sekundi ako je <span class="math inline">\(\mu = 120\)</span> i <span class="math inline">\(\sigma = 30\)</span>?</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vjerojatnost da je X &lt; 100 kada je μ=120, σ=30</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>vjerojatnost <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">120</span>, <span class="at">sd =</span> <span class="dv">30</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Vjerojatnost:"</span>, <span class="fu">round</span>(vjerojatnost, <span class="dv">3</span>)))</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Ovo odgovara približno 25.2% čitatelja</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Funkcija <code>qnorm()</code> radi obrnuto: za danu vjerojatnost vraća odgovarajuću vrijednost. Koji je prag vremena čitanja ispod kojeg pada 25% čitatelja?</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vrijednost ispod koje pada 25% podataka</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>prag <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="fl">0.25</span>, <span class="at">mean =</span> <span class="dv">120</span>, <span class="at">sd =</span> <span class="dv">30</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"25. percentil:"</span>, <span class="fu">round</span>(prag, <span class="dv">1</span>), <span class="st">"sekundi"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="sec-cgt" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="sec-cgt"><span class="header-section-number">1.2</span> Centralni granični teorem</h2>
<p>Postavimo sada fundamentalno pitanje: što se događa kada uzimamo uzorke iz populacije i izračunavamo prosjeke tih uzoraka? Zamislimo da ponavljamo anketiranje publike HRT-a. Prvi tjedan anketiramo 50 gledatelja i dobijemo prosječnu satisfakciju od 7.2 (na skali 1-10). Sljedeći tjedan ponovo anketiramo 50 različitih gledatelja i dobijemo 7.5. Treći tjedan dobijemo 6.9. Ako bismo ovaj proces ponavljali stotinama puta, što bismo vidjeli? Distribucija svih tih prosječnih satisfakcija naziva se <strong>uzorkovna distribucija prosjeka</strong> (engl. <em>sampling distribution of the mean</em>), i ona ima zadivljujuća svojstva koja nam objašnjava centralni granični teorem.</p>
<section id="sec-uzorkovna-distribucija" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="sec-uzorkovna-distribucija"><span class="header-section-number">1.2.1</span> Uzorkovna distribucija prosjeka</h3>
<p>Razmotrimo konkretan primjer. Pretpostavimo da stvarna prosječna satisfakcija svih HRT gledatelja (populacijska sredina) iznosi <span class="math inline">\(\mu = 7.0\)</span>, sa standardnom devijacijom <span class="math inline">\(\sigma = 2.0\)</span>. Ako uzmemo uzorak od <span class="math inline">\(N = 50\)</span> gledatelja i izračunamo prosječnu satisfakciju, gotovo sigurno nećemo dobiti točno 7.0. Možda dobijemo 7.3, ili 6.8, ili neku drugu vrijednost. Nadalje, ako ponovimo eksperiment s novim uzorkom od 50 ljudi, dobivamo drugu vrijednost. Distribucija svih mogućih prosječnih satisfakcija iz uzoraka veličine 50 jest uzorkovna distribucija prosjeka.</p>
<p>Ključno pitanje: kako izgleda ova distribucija? Odgovor daje <strong>centralni granični teorem</strong> (CGT), jedan od najvažnijih rezultata u teoriji vjerojatnosti. Teorem kaže sljedeće: bez obzira kakav oblik ima originalna populacijska distribucija, uzorkovna distribucija prosjeka postaje sve normalnija kako se veličina uzorka povećava. Štav iše, CGT nam daje precizne formule za karakteristike ove distribucije.</p>
</section>
<section id="sec-tri-rezultata-cgt" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="sec-tri-rezultata-cgt"><span class="header-section-number">1.2.2</span> Tri ključna rezultata CGT-a</h3>
<p>Centralni granični teorem donosi tri fundamentalna rezultata o uzorkovnoj distribuciji prosjeka:</p>
<p><strong>Prvo</strong>, sredina uzorkovne distribucije jednaka je populacijskoj sredini. Ako je prava prosječna satisfakcija <span class="math inline">\(\mu = 7.0\)</span>, tada je prosječna vrijednost svih mogućih prosječnih satisfakcija iz uzoraka također 7.0. Formalno: <span class="math inline">\(E[\bar{X}] = \mu\)</span>. Ovo znači da je prosječna satisfakcija iz uzorka <strong>nepristrani procjenitelj</strong> (unbiased estimator) populacijske sredine – u prosjeku, “pogađa” pravu vrijednost.</p>
<p><strong>Drugo</strong>, standardna devijacija uzorkovne distribucije (koja se naziva <strong>standardna pogreška</strong>) jednaka je:</p>
<p><span id="eq-standard-error"><span class="math display">\[\text{SE} = \frac{\sigma}{\sqrt{N}} \tag{2}\]</span></span></p>
<p>gdje je <span class="math inline">\(\sigma\)</span> populacijska standardna devijacija, a <span class="math inline">\(N\)</span> veličina uzorka. U našem primjeru s HRT-om, ako je <span class="math inline">\(\sigma = 2.0\)</span> i <span class="math inline">\(N = 50\)</span>:</p>
<p><span class="math display">\[\text{SE} = \frac{2.0}{\sqrt{50}} = \frac{2.0}{7.07} \approx 0.283\]</span></p>
<p>Ova formula ima važne implikacije. Standardna pogreška se smanjuje s korijenom veličine uzorka, ne linearno. Da bismo prepolovili standardnu pogrešku, moramo učetverostručiti veličinu uzorka. Posljedično tome, povećanje preciznosti postaje sve skuplje kako uzorak raste.</p>
<p><strong>Treće</strong>, kako veličina uzorka raste, oblik uzorkovne distribucije sve više nalikuje normalnoj distribuciji, neovisno o obliku populacijske distribucije. Čak i ako je originalna distribucija satisfakcije asimetrična ili multimodalna, distribucija prosječnih satisfakcija iz uzoraka veličine 30 ili više bit će približno normalna.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Simulacija: uzimamo mnogo uzoraka i gledamo distribuciju prosjeka</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>n_simulations <span class="ot">&lt;-</span> <span class="dv">10000</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>sample_size <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>population_mean <span class="ot">&lt;-</span> <span class="fl">7.0</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>population_sd <span class="ot">&lt;-</span> <span class="fl">2.0</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Generiranje 10,000 prosječnih satisfakcija iz uzoraka</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>sample_means <span class="ot">&lt;-</span> <span class="fu">replicate</span>(n_simulations, {</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  sample <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(sample_size, <span class="at">mean =</span> population_mean, <span class="at">sd =</span> population_sd)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>(sample)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram uzorkovne distribucije</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(sample_means, <span class="at">breaks =</span> <span class="dv">50</span>, <span class="at">probability =</span> <span class="cn">TRUE</span>,</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Uzorkovna distribucija prosjeka (N=50)"</span>,</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Prosječna satisfakcija"</span>,</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"Gustoća"</span>,</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"lightblue"</span>, <span class="at">border =</span> <span class="st">"white"</span>)</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Dodavanje teorijske normalne krivulje</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>se <span class="ot">&lt;-</span> population_sd <span class="sc">/</span> <span class="fu">sqrt</span>(sample_size)</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fu">min</span>(sample_means), <span class="fu">max</span>(sample_means), <span class="at">length =</span> <span class="dv">100</span>)</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(x, <span class="fu">dnorm</span>(x, <span class="at">mean =</span> population_mean, <span class="at">sd =</span> se), </span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"topright"</span>, <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Simulirana"</span>, <span class="st">"Teorijska"</span>),</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"lightblue"</span>, <span class="st">"red"</span>), <span class="at">lwd =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="sec-prakticne-implikacije-cgt" class="level3" data-number="1.2.3">
<h3 data-number="1.2.3" class="anchored" data-anchor-id="sec-prakticne-implikacije-cgt"><span class="header-section-number">1.2.3</span> Praktične implikacije</h3>
<p>CGT ima duboke implikacije za istraživanje medija. <strong>Prvo</strong>, omogućuje nam korištenje normalne distribucije za inferencijalnu statistiku čak i kada naši originalni podaci nisu normalno distribuirani. Satisfakcija se mjeri na Likertovoj skali (1-10) koja nije striktno kontinuirana, ali CGT nam kaže da je distribucija prosječne satisfakcije iz uzorka dovoljno velika biti će približno normalna.</p>
<p><strong>Drugo</strong>, formula za standardnu pogrešku daje nam kvantitativnu mjeru koliko možemo biti sigurni u naš uzorkovni prosjek. Manji uzorak znači veću standardnu pogrešku, što znači veću nesigurnost. Veći uzorak znači manju standardnu pogrešku i veću preciznost. Ovo opravdava intuiciju da su “veći uzorci bolji” – ali također pokazuje da ta prednost opada s korijenom veličine uzorka.</p>
<p><strong>Treće</strong>, CGT objašnjava zašto toliko statističkih testova pretpostavlja normalnost. Ne zahtijevamo da originalni podaci budu normalni, već da uzorkovna distribucija testne statistike (koja je često bazirana na prosjeku) bude normalna, a to nam CGT jamči za dovoljno velike uzorke.</p>
</section>
</section>
<section id="sec-standardna-pogreska" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="sec-standardna-pogreska"><span class="header-section-number">1.3</span> Standardna pogreška</h2>
<p>Kada izvještavamo rezultate istraživanja, često navodimo prosječnu vrijednost: “Prosječna gledanost iznosi 285.000 gledatelja” ili “Prosječna ocjena kredibiliteta je 6.5 na skali 1-10”. Međutim, ove brojke su procjene bazirane na uzorcima, a svaki uzorak donosi određenu količinu nesigurnosti. <strong>Standardna pogreška</strong> kvantificira tu nesigurnost – govori nam koliko tipično odstupa prosječna vrijednost iz uzorka od prave populacijske vrijednosti.</p>
<section id="sec-razlika-sd-se" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="sec-razlika-sd-se"><span class="header-section-number">1.3.1</span> Razlika između SD i SE</h3>
<p>Studenti često brka ju standardnu devijaciju (SD) i standardnu pogrešku (SE), jer su konceptualno povezane ali mjere različite stvari. <strong>Standardna devijacija</strong> mjeri varijabilnost pojedinačnih opservacija oko prosjeka. Ako kažemo da gledanost emisije ima SD = 42.000, govorimo o tome koliko gledanost varira od emisije do emisije u našem skupu podataka.</p>
<p><strong>Standardna pogreška</strong> mjeri varijabilnost <strong>prosječne vrijednosti uzorka</strong> oko populacijske sredine. Ona odgovara na pitanje: ako bismo ponavljali naše istraživanje mnogo puta, koliko bi varirali dobiveni prosjeci? Standardna pogreška je uvijek manja od standardne devijacije (osim kada je <span class="math inline">\(N = 1\)</span>), i postaje sve manja kako povećavamo veličinu uzorka.</p>
<p>Formula koju smo već vidjeli:</p>
<p><span id="eq-se-formula"><span class="math display">\[\text{SE} = \frac{\sigma}{\sqrt{N}} \tag{3}\]</span></span></p>
<p>Problem je što u praksi ne znamo populacijsku standardnu devijaciju <span class="math inline">\(\sigma\)</span>. Umjesto toga, moramo je procijeniti iz našeg uzorka. Uzorkovnu standardnu devijaciju označavamo s <span class="math inline">\(s\)</span>, a procijenjenu standardnu pogrešku tada računamo kao:</p>
<p><span id="eq-se-estimate"><span class="math display">\[\widehat{\text{SE}} = \frac{s}{\sqrt{N}} \tag{4}\]</span></span></p>
<p>gdje je <span class="math inline">\(s\)</span> standardna devijacija našeg uzorka, a <span class="math inline">\(N\)</span> veličina uzorka. Simbol <span class="math inline">\(\widehat{\text{SE}}\)</span> (“SE šešir”) naglašava da se radi o procjeni, ne pravoj vrijednosti.</p>
</section>
<section id="sec-primjer-izracuna-se" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="sec-primjer-izracuna-se"><span class="header-section-number">1.3.2</span> Primjer izračuna</h3>
<p>Analiziramo gledanost 30 epizoda serije na HRT-u. Prosječna gledanost je <span class="math inline">\(\bar{X} = 182.000\)</span> gledatelja, sa standardnom devijacijom <span class="math inline">\(s = 28.000\)</span>. Standardna pogreška prosjeka je:</p>
<p><span class="math display">\[\widehat{\text{SE}} = \frac{28.000}{\sqrt{30}} = \frac{28.000}{5.48} \approx 5.109\]</span></p>
<p>Ova brojka nam govori: ako bismo ponavljali istraživanje (uzimajući različite uzorke od 30 epizoda), prosječna gledanost u tim uzorcima tipično bi odstupala oko 5.100 gledatelja od prave populacijske sredine.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Podaci o gledanosti (u tisućama)</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>gledanost <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">180</span>, <span class="dv">165</span>, <span class="dv">195</span>, <span class="dv">170</span>, <span class="dv">190</span>, <span class="dv">182</span>, <span class="dv">175</span>, <span class="dv">188</span>, <span class="dv">192</span>, <span class="dv">168</span>,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>               <span class="dv">178</span>, <span class="dv">185</span>, <span class="dv">201</span>, <span class="dv">172</span>, <span class="dv">186</span>, <span class="dv">179</span>, <span class="dv">194</span>, <span class="dv">181</span>, <span class="dv">177</span>, <span class="dv">183</span>,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>               <span class="dv">189</span>, <span class="dv">174</span>, <span class="dv">196</span>, <span class="dv">169</span>, <span class="dv">187</span>, <span class="dv">191</span>, <span class="dv">176</span>, <span class="dv">184</span>, <span class="dv">173</span>, <span class="dv">198</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Deskriptivne statistike</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>mean_gledanost <span class="ot">&lt;-</span> <span class="fu">mean</span>(gledanost)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>sd_gledanost <span class="ot">&lt;-</span> <span class="fu">sd</span>(gledanost)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(gledanost)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardna pogreška</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>se_gledanost <span class="ot">&lt;-</span> sd_gledanost <span class="sc">/</span> <span class="fu">sqrt</span>(n)</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Prosječna gledanost:"</span>, <span class="fu">round</span>(mean_gledanost, <span class="dv">1</span>), <span class="st">"tisuća</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Standardna devijacija:"</span>, <span class="fu">round</span>(sd_gledanost, <span class="dv">1</span>), <span class="st">"tisuća</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Standardna pogreška:"</span>, <span class="fu">round</span>(se_gledanost, <span class="dv">2</span>), <span class="st">"tisuća</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"95% interval pouzdanosti:"</span>, </span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(mean_gledanost <span class="sc">-</span> <span class="fl">1.96</span><span class="sc">*</span>se_gledanost, <span class="dv">1</span>), <span class="st">"do"</span>,</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(mean_gledanost <span class="sc">+</span> <span class="fl">1.96</span><span class="sc">*</span>se_gledanost, <span class="dv">1</span>), <span class="st">"tisuća</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="sec-intervali-pouzdanosti" class="level3" data-number="1.3.3">
<h3 data-number="1.3.3" class="anchored" data-anchor-id="sec-intervali-pouzdanosti"><span class="header-section-number">1.3.3</span> Intervali pouzdanosti</h3>
<p>Standardna pogreška prirodno vodi prema <strong>intervalima pouzdanosti</strong> (confidence intervals). Budući da uzorkovna distribucija prosjeka slijedi (približno) normalnu distribuciju, možemo konstruirati interval unutar kojeg se s određenom vjerojatnošću nalazi prava populacijska sredina. Najčešće korišteni interval je <strong>95% interval pouzdanosti</strong>, koji se izračunava kao:</p>
<p><span id="eq-confidence-interval"><span class="math display">\[\text{95% IP} = \bar{X} \pm 1.96 \times \widehat{\text{SE}} \tag{5}\]</span></span></p>
<p>Za naš primjer gledanosti:</p>
<p><span class="math display">\[\text{95% IP} = 182 \pm 1.96 \times 5.1 = 182 \pm 10 = [172, 192]\]</span></p>
<p>Interpretacija: Ako bismo ponavljali ovo istraživanje mnogo puta i svaki put konstruirali 95% interval pouzdanosti, približno 95% tih intervala bi sadržavalo pravu populacijsku sredinu. Valja naglasiti ono što interval <strong>ne</strong> znači: ne možemo reći “postoji 95% šanse da je prava sredina između 172 i 192” jer prava sredina je fiksna vrijednost (koja ili jest ili nije u tom intervalu). Međutim, metoda koju koristimo za konstrukciju intervala “uspijeva” 95% vremena.</p>
</section>
</section>
<section id="sec-testiranje-hipoteza" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="sec-testiranje-hipoteza"><span class="header-section-number">1.4</span> Testiranje hipoteza</h2>
<p>Vrhunac ovog poglavlja jest razumijevanje kako zapravo testiramo hipoteze statistički. Pretpostavimo da HRT tvrdi da prosječna gledanost njihovih večernjih vijesti iznosi 300.000 gledatelja. Mi provedemo istraživanje na uzorku od 50 emisija i dobijemo prosječnu gledanost od 285.000 sa standardnom devijacijom od 42.000. Trebamo li smatrati da tvrdnja HRT-a nije točna, ili je razlika od 15.000 gledatelja samo slučajno odstupanje zbog uzorkovanja? <strong>Testiranje hipoteza</strong> pruža sistematičan okvir za odgovaranje na takva pitanja.</p>
<section id="sec-nul-alternativna" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="sec-nul-alternativna"><span class="header-section-number">1.4.1</span> Nul-hipoteza i alternativna hipoteza</h3>
<p>Svaki statistički test započinje s dvije konkurentske hipoteze. <strong>Nul-hipoteza</strong> (označava se <span class="math inline">\(H_0\)</span>, čita se “ha nula”) predstavlja status quo ili tvrdnju koju želimo testirati. U našem primjeru:</p>
<p><span class="math display">\[H_0: \mu = 300.000\]</span></p>
<p>što čitamo: “nul-hipoteza je da prava prosječna gledanost iznosi 300.000 gledatelja”. <strong>Alternativna hipoteza</strong> (<span class="math inline">\(H_1\)</span> ili <span class="math inline">\(H_A\)</span>) predstavlja ono što sumnjamo da je istina ako nul-hipoteza nije točna. Može biti dvosmjerna:</p>
<p><span class="math display">\[H_1: \mu \neq 300.000\]</span></p>
<p>ili jednosmjerna (npr. <span class="math inline">\(H_1: \mu &lt; 300.000\)</span> ako posebno sumnjamo da HRT precjenjuje gledanost).</p>
</section>
<section id="sec-logika-testiranja" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="sec-logika-testiranja"><span class="header-section-number">1.4.2</span> Logika testiranja</h3>
<p>Logika testiranja hipoteza temelji se na reductio ad absurdum argumentaciji. Privremeno <strong>pretpostavljamo da je nul-hipoteza istinita</strong>. Zatim se pitamo: ako je nul-hipoteza istinita, kolika je vjerojatnost da bismo opazili podatke ekstremne kao ili ekstremenije od onih koje smo zapravo opazili? Ako je ta vjerojatnost vrlo niska (obično ispod 5%), zaključujemo da su naši podaci nespojivi s nul-hipotezom i <strong>odbacujemo</strong> nul-hipotezu. Ako vjerojatnost nije dovoljno niska, <strong>ne odbacujemo</strong> nul-hipotezu (ne kažemo da je “prihvaćamo”, već samo da nemamo dovoljno dokaza protiv nje).</p>
</section>
<section id="sec-z-test-primjer" class="level3" data-number="1.4.3">
<h3 data-number="1.4.3" class="anchored" data-anchor-id="sec-z-test-primjer"><span class="header-section-number">1.4.3</span> Z-test: primjer</h3>
<p>Najjednostavniji test je <strong>z-test</strong> za prosjek kada znamo populacijsku standardnu devijaciju (što u praksi rijetko znamo, ali ovaj test služi kao didaktički uvod). Testna statistika je:</p>
<p><span id="eq-z-test"><span class="math display">\[z = \frac{\bar{X} - \mu_0}{\sigma / \sqrt{N}} \tag{6}\]</span></span></p>
<p>gdje je <span class="math inline">\(\bar{X}\)</span> prosječna vrijednost iz uzorka, <span class="math inline">\(\mu_0\)</span> je vrijednost koju testiramo (iz nul-hipoteze), <span class="math inline">\(\sigma\)</span> je poznata populacijska standardna devijacija, i <span class="math inline">\(N\)</span> je veličina uzorka. Ova z-vrijednost govori nam koliko standardnih pogrešaka je naš opaženi prosjek udaljen od pretpostavljene vrijednosti.</p>
<p>Za naš primjer, pretpostavimo da znamo (iz prošlih podataka) da je populacijska SD = 42.000:</p>
<p><span class="math display">\[z = \frac{285.000 - 300.000}{42.000 / \sqrt{50}} = \frac{-15.000}{5.940} \approx -2.53\]</span></p>
<p>Naš opaženi prosjek je 2.53 standardne pogreške ispod tvrdnje HRT-a. Je li to dovoljno ekstremno da odbacimo nul-hipotezu?</p>
</section>
<section id="sec-p-vrijednost" class="level3" data-number="1.4.4">
<h3 data-number="1.4.4" class="anchored" data-anchor-id="sec-p-vrijednost"><span class="header-section-number">1.4.4</span> P-vrijednost</h3>
<p><strong>P-vrijednost</strong> (p-value) je vjerojatnost dobivanja rezultata ekstremnih kao ili ekstremnih od onih koje smo opazili, pod pretpostavkom da je nul-hipoteza istinita. Za dvosmjerni test s <span class="math inline">\(z = -2.53\)</span>:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Izračun p-vrijednosti za z = -2.53</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="sc">-</span><span class="fl">2.53</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Za dvosmjerni test, gledamo obje strane distribucije</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>p_value <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> <span class="fu">pnorm</span>(z)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"P-vrijednost:"</span>, <span class="fu">round</span>(p_value, <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>P-vrijednost je približno 0.011 ili 1.1%. Interpretacija: Ako bi prava prosječna gledanost bila 300.000, tada bismo u samo 1.1% slučajeva dobili prosjek koji je toliko ili više udaljen od 300.000 kao što je naš opaženi prosjek od 285.000. Budući da je ova vjerojatnost ispod uobičajenog praga od 5% (<strong>razina značajnosti</strong> <span class="math inline">\(\alpha = 0.05\)</span>), odbacujemo nul-hipotezu. Zaključujemo da imamo statističke dokaze da prava prosječna gledanost nije 300.000 gledatelja.</p>
</section>
<section id="sec-moc-i-pogreske" class="level3" data-number="1.4.5">
<h3 data-number="1.4.5" class="anchored" data-anchor-id="sec-moc-i-pogreske"><span class="header-section-number">1.4.5</span> Moć testa i pogreške</h3>
<p>Testiranje hipoteza nije savršeno. Postoje dva tipa pogrešaka:</p>
<ul>
<li><strong>Pogreška tipa I</strong> (lažno pozitivan): odbacujemo istinitu nul-hipotezu. Vjerojatnost ove pogreške je <span class="math inline">\(\alpha\)</span> (obično 0.05).</li>
<li><strong>Pogreška tipa II</strong> (lažno negativan): ne odbacujemo lažnu nul-hipotezu. Vjerojatnost ove pogreške označavamo s <span class="math inline">\(\beta\)</span>.</li>
</ul>
<p><strong>Moć testa</strong> je <span class="math inline">\(1 - \beta\)</span> – vjerojatnost da ćemo ispravno odbaciti lažnu nul-hipotezu. Moć raste s veličinom uzorka, veličinom stvarnog efekta, i manjom varijabilnošću.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Česta pogrešna interpretacija
</div>
</div>
<div class="callout-body-container callout-body">
<p>P-vrijednost od 0.01 <strong>ne</strong> znači “postoji 1% šanse da je nul-hipoteza istinita”. P-vrijednost pretpostavlja da je nul-hipoteza istinita i mjeri ekstremnost podataka, ne vjerojatnost hipoteza. Pravilna interpretacija: “Ako bi nul-hipoteza bila istinita, podaci ekstremni kao naši ili ekstremije javljali bi se u 1% slučajeva.”</p>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crtanje distribucije pod nul-hipotezom</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>mu0 <span class="ot">&lt;-</span> <span class="dv">300</span>  <span class="co"># Pretpostavljena sredina (H0)</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>se <span class="ot">&lt;-</span> <span class="dv">42</span> <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="dv">50</span>)  <span class="co"># Standardna pogreška</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>x_obs <span class="ot">&lt;-</span> <span class="dv">285</span>  <span class="co"># Opažena sredina</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(mu0 <span class="sc">-</span> <span class="dv">4</span><span class="sc">*</span>se, mu0 <span class="sc">+</span> <span class="dv">4</span><span class="sc">*</span>se, <span class="at">length =</span> <span class="dv">200</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">dnorm</span>(x, <span class="at">mean =</span> mu0, <span class="at">sd =</span> se)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, y, <span class="at">type =</span> <span class="st">"l"</span>, <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Testiranje H0: μ = 300"</span>,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Prosječna gledanost (tisuće)"</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"Gustoća"</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Označavanje kritičnih regija (α = 0.05, dvosmjerni test)</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>crit_lower <span class="ot">&lt;-</span> mu0 <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> se</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>crit_upper <span class="ot">&lt;-</span> mu0 <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> se</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Senčanje odbacivanja regija</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>x_reject_lower <span class="ot">&lt;-</span> <span class="fu">seq</span>(mu0 <span class="sc">-</span> <span class="dv">4</span><span class="sc">*</span>se, crit_lower, <span class="at">length =</span> <span class="dv">100</span>)</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a><span class="fu">polygon</span>(<span class="fu">c</span>(x_reject_lower, <span class="fu">rev</span>(x_reject_lower)),</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c</span>(<span class="fu">dnorm</span>(x_reject_lower, mu0, se), <span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">100</span>)),</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">col =</span> <span class="fu">rgb</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">0.3</span>), <span class="at">border =</span> <span class="cn">NA</span>)</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>x_reject_upper <span class="ot">&lt;-</span> <span class="fu">seq</span>(crit_upper, mu0 <span class="sc">+</span> <span class="dv">4</span><span class="sc">*</span>se, <span class="at">length =</span> <span class="dv">100</span>)</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="fu">polygon</span>(<span class="fu">c</span>(x_reject_upper, <span class="fu">rev</span>(x_reject_upper)),</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c</span>(<span class="fu">dnorm</span>(x_reject_upper, mu0, se), <span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">100</span>)),</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">col =</span> <span class="fu">rgb</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">0.3</span>), <span class="at">border =</span> <span class="cn">NA</span>)</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Označavanje opažene vrijednosti</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> x_obs, <span class="at">col =</span> <span class="st">"blue"</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(x_obs, <span class="fu">max</span>(y)<span class="sc">*</span><span class="fl">0.8</span>, <span class="st">"Opaženo:</span><span class="sc">\n</span><span class="st">285"</span>, <span class="at">col =</span> <span class="st">"blue"</span>, <span class="at">cex =</span> <span class="fl">0.9</span>)</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Legenda</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"topright"</span>, </span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>       <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"H0 distribucija"</span>, <span class="st">"Odbacivanje regija (α=0.05)"</span>, <span class="st">"Opažena vrijednost"</span>),</span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"black"</span>, <span class="st">"red"</span>, <span class="st">"blue"</span>),</span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>       <span class="at">lwd =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">10</span>, <span class="dv">2</span>),</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>       <span class="at">lty =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="sažetak" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sažetak">Sažetak</h2>
<p>U ovom poglavlju postavili smo teorijske temelje za statisticko zaključivanje:</p>
<ul>
<li><strong>Normalna distribucija</strong> – zvonasta krivulja određena s <span class="math inline">\(\mu\)</span> i <span class="math inline">\(\sigma\)</span>, temelj inferenc ijalne statistike
<ul>
<li>Empirijsko pravilo: 68-95-99.7% unutar 1-2-3 standardne devijacije</li>
<li>Vjerojatnosti kao površine ispod krivulje</li>
</ul></li>
<li><strong>Centralni granični teorem</strong> – uzorkovna distribucija prosjeka postaje normalna kako <span class="math inline">\(N\)</span> raste
<ul>
<li>Sredina uzorkovne distribucije: <span class="math inline">\(E[\bar{X}] = \mu\)</span></li>
<li>Standardna pogreška: <span class="math inline">\(\text{SE} = \sigma/\sqrt{N}\)</span></li>
<li>Opravdava korištenje normalne distribucije u testovima</li>
</ul></li>
<li><strong>Standardna pogreška</strong> – mjeri nesigurnost procjene prosjeka
<ul>
<li>Razlika od SD: SE mjeri varijabilnost prosjeka, ne pojedinačnih opservacija</li>
<li>Temelj za intervale pouzdanosti: <span class="math inline">\(\bar{X} \pm 1.96 \times \text{SE}\)</span></li>
</ul></li>
<li><strong>Testiranje hipoteza</strong> – sistematičan okvir za statističke zaključke
<ul>
<li>Nul-hipoteza (<span class="math inline">\(H_0\)</span>) vs.&nbsp;alternativna (<span class="math inline">\(H_1\)</span>)</li>
<li>P-vrijednost mjeri ekstremnost podataka pod <span class="math inline">\(H_0\)</span></li>
<li>Odbacujemo <span class="math inline">\(H_0\)</span> ako <span class="math inline">\(p &lt; \alpha\)</span> (obično 0.05)</li>
</ul></li>
</ul>
<p>Ovi koncepti čine temelj svih statističkih testova koje ćemo koristiti u analizi komunikoloških podataka.</p>
</section>
<section id="reference" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="reference">Reference</h2>
<div id="refs" role="list">

</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>