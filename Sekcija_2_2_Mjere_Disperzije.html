<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="hr" xml:lang="hr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Metode istraživanja masovne komunikacije">

<title>Mjere disperzije</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="Sekcija_2_2_Mjere_Disperzije_files/libs/clipboard/clipboard.min.js"></script>
<script src="Sekcija_2_2_Mjere_Disperzije_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="Sekcija_2_2_Mjere_Disperzije_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="Sekcija_2_2_Mjere_Disperzije_files/libs/quarto-html/popper.min.js"></script>
<script src="Sekcija_2_2_Mjere_Disperzije_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Sekcija_2_2_Mjere_Disperzije_files/libs/quarto-html/anchor.min.js"></script>
<link href="Sekcija_2_2_Mjere_Disperzije_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Sekcija_2_2_Mjere_Disperzije_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Sekcija_2_2_Mjere_Disperzije_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Sekcija_2_2_Mjere_Disperzije_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Sekcija_2_2_Mjere_Disperzije_files/libs/bootstrap/bootstrap-813c323200a87c37e262811031999de4.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-disperzija" id="toc-sec-disperzija" class="nav-link active" data-scroll-target="#sec-disperzija"><span class="header-section-number">1</span> Mjere disperzije</a>
  <ul class="collapse">
  <li><a href="#sec-raspon" id="toc-sec-raspon" class="nav-link" data-scroll-target="#sec-raspon"><span class="header-section-number">1.1</span> Raspon</a></li>
  <li><a href="#sec-iqr" id="toc-sec-iqr" class="nav-link" data-scroll-target="#sec-iqr"><span class="header-section-number">1.2</span> Međukvartilni raspon</a></li>
  <li><a href="#sec-varijanca" id="toc-sec-varijanca" class="nav-link" data-scroll-target="#sec-varijanca"><span class="header-section-number">1.3</span> Varijanca</a></li>
  <li><a href="#sec-standardna-devijacija" id="toc-sec-standardna-devijacija" class="nav-link" data-scroll-target="#sec-standardna-devijacija"><span class="header-section-number">1.4</span> Standardna devijacija</a></li>
  <li><a href="#sec-usporedba-mjera" id="toc-sec-usporedba-mjera" class="nav-link" data-scroll-target="#sec-usporedba-mjera"><span class="header-section-number">1.5</span> Usporedba mjera disperzije</a></li>
  <li><a href="#sec-izvjestavanje" id="toc-sec-izvjestavanje" class="nav-link" data-scroll-target="#sec-izvjestavanje"><span class="header-section-number">1.6</span> Praktične smjernice za izvještavanje</a></li>
  </ul></li>
  <li><a href="#sažetak" id="toc-sažetak" class="nav-link" data-scroll-target="#sažetak">Sažetak</a></li>
  <li><a href="#reference" id="toc-reference" class="nav-link" data-scroll-target="#reference">Reference</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="Sekcija_2_2_Mjere_Disperzije.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Mjere disperzije</h1>
<p class="subtitle lead">Poglavlje 2, Sekcija 2.2</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Metode istraživanja masovne komunikacije </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="sec-disperzija" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="sec-disperzija"><span class="header-section-number">1</span> Mjere disperzije</h2>
<p>Analitičar portala Index.hr pregledava podatke o dnevnom broju posjeta stranici tijekom mjeseca i primjećuje da je prosječna dnevna posjećenost bila 850.000 korisnika. Ova informacija zvuči korisno, ali kad malo dublje promisli, shvaća da mu nedostaje ključni dio slagalice. Je li portal svaki dan imao približno 850.000 posjeta, što bi ukazivalo na izuzetno stabilnu i predvidivu publiku? Ili možda većinu dana imaju oko 600.000 posjeta, ali ponekad dosegnu i 1.500.000 kada objave posebno atraktivnu priču? Ova dva scenarija imaju potpuno različite implikacije za razumijevanje publike i planiranje sadržaja, iako oba imaju identičan prosjek. Problem je što nam mjere centralne tendencije, koliko god bile korisne, govore samo dio priče – one nam pokazuju “sredinu” podataka, ali nam ne govore ništa o tome koliko su ti podaci <strong>raspršeni</strong> oko te sredine.</p>
<p>Upravo u ovom trenutku postaju neophodne <strong>mjere disperzije</strong> ili <strong>mjere varijabilnosti</strong>. Ove statističke mjere kvantificiraju koliko su naši podaci “rasprostranjeni”, odnosno koliko tipično odstupaju od središnje vrijednosti. Nadalje, mjere disperzije omogućuju nam da razlikujemo između situacije gdje svi podaci grupiraju blizu prosjeka (niska varijabilnost) i situacije gdje su podaci široko raspršeni (visoka varijabilnost). Za istraživača masovne komunikacije, ova informacija može biti jednako važna, ako ne i važnija, od samog prosjeka. Stoga, u ovoj sekciji razmatrat ćemo nekoliko različitih načina za mjerenje varijabilnosti podataka, svaki sa svojim prednostima i ograničenjima.</p>
<p>Postoje četiri glavne mjere disperzije koje ćemo detaljno obraditi: <strong>raspon</strong>, <strong>međukvartilni raspon</strong>, <strong>varijancu</strong> i <strong>standardnu devijaciju</strong>. Svaka od njih pristupa pitanju varijabilnosti na malo drugačiji način. Raspon i međukvartilni raspon zasnivaju se na ideji da možemo izmjeriti disperziju gledajući razliku između ekstremnih ili kvartilnih vrijednosti. S druge strane, varijanca i standardna devijacija uzimaju u obzir sve opservacije u skupu podataka, mjereći tipična odstupanja od prosjeka. Razumijevanje svake od ovih mjera, kao i znanje kada koju primijeniti, bit će ključno za kompetentnu analizu komunikoloških podataka.</p>
<section id="sec-raspon" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="sec-raspon"><span class="header-section-number">1.1</span> Raspon</h3>
<p>Najjednostavniji način da kvantificiramo koliko su naši podaci raspršeni jest da pogledamo razliku između najveće i najmanje vrijednosti u skupu podataka. Ova mjera naziva se <strong>raspon</strong> (engl. <em>range</em>), i njena definicija je izuzetno intuitivna: raspon je jednostavno razlika između maksimalne i minimalne vrijednosti. Zamislimo da analitičar istražuje trajanje televizijskih reklama emitirane na HRT-u tijekom jednog dana. Najkraća reklama trajala je 10 sekundi, a najdulja 90 sekundi. Raspon ovih podataka bio bi jednostavno <span class="math inline">\(90 - 10 = 80\)</span> sekundi. Ova brojka nam odmah daje osjećaj koliko velika je disperzija u trajanju reklama.</p>
<p>Privlačnost raspona leži u njegovoj jednostavnosti – ne može biti lakše za izračunati, a interpretacija je potpuno jasna. Međutim, upravo ova jednostavnost krije u sebi ozbiljan nedostatak. Da bismo razumjeli problem, vratimo se primjeru s trajanjem reklama na HRT-u. Pretpostavimo da analiziramo sto reklama i da devedeset i devet njih traje između 25 i 35 sekundi, što ukazuje na izuzetno konzistentno trajanje. Međutim, postoji jedna iznimna reklama – možda poseban promotivni spot – koja traje 90 sekundi. Raspon cijelog skupa podataka i dalje će biti 80 sekundi, što stvara dojam velike varijabilnosti, iako je 99% reklama u vrlo uskom rasponu.</p>
<p>Ovaj primjer ilustrira ključni problem s rasponom: on je <strong>potpuno nerobusna mjera</strong> koja je izuzetno osjetljiva na <strong>outliere</strong>. Potrebna je samo jedna ekstremna vrijednost da bi raspon dao potpuno iskrivljenu sliku o disperziji podataka. Nadalje, raspon koristi samo dvije vrijednosti iz cijelog skupa podataka – najveću i najmanju – potpuno ignorira sve ostale informacije. Analitičar portala mogao bi imati tisuću podatkovnih točaka, ali raspon će uvijek gledati samo dvije od njih. Posljedično tome, raspon nam daje vrlo ograničen uvid u stvarnu varijabilnost podataka.</p>
<p>Unatoč ovim nedostatcima, raspon ima svoje mjesto u deskriptivnoj statistici. On je koristan za brzu početnu procjenu o tome koliko se “ekstremne” vrijednosti pojavljuju u podacima. Osim toga, u nekim komunikološkim kontekstima, sam raspon može biti od interesa. Na primjer, istraživaču koji proučava pristupačnost medijskog sadržaja može biti važno znati kakav je raspon duljine članaka na nekom portalu – od najkraćih vijesti do najdužih reportaža – jer to može utjecati na raznolikost publike koju portal privlači.</p>
<section id="sec-raspon-r" class="level4" data-number="1.1.1">
<h4 data-number="1.1.1" class="anchored" data-anchor-id="sec-raspon-r"><span class="header-section-number">1.1.1</span> Izračun u R-u</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Podaci o trajanju TV reklama na HRT-u (u sekundama)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>trajanje_reklama <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">30</span>, <span class="dv">25</span>, <span class="dv">28</span>, <span class="dv">32</span>, <span class="dv">90</span>, <span class="dv">27</span>, <span class="dv">29</span>, <span class="dv">31</span>, <span class="dv">26</span>, <span class="dv">33</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Izračun raspona - metoda 1</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>minimum <span class="ot">&lt;-</span> <span class="fu">min</span>(trajanje_reklama)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>maksimum <span class="ot">&lt;-</span> <span class="fu">max</span>(trajanje_reklama)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>raspon <span class="ot">&lt;-</span> maksimum <span class="sc">-</span> minimum</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Raspon:"</span>, raspon, <span class="st">"sekundi"</span>))</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Izračun raspona - metoda 2 (range vraća vektor s min i max)</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>raspon_vektor <span class="ot">&lt;-</span> <span class="fu">range</span>(trajanje_reklama)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Minimum:"</span>, raspon_vektor[<span class="dv">1</span>], <span class="st">"Maksimum:"</span>, raspon_vektor[<span class="dv">2</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="sec-iqr" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="sec-iqr"><span class="header-section-number">1.2</span> Međukvartilni raspon</h3>
<p>Problem s rasponom koji smo gore opisali – njegova osjetljivost na ekstremne vrijednosti – može se elegantno riješiti ako promijenimo pristup. Umjesto da gledamo razliku između apsolutno najveće i apsolutno najmanje vrijednosti, možemo pogledati razliku između vrijednosti koje su “prilično visoke” i “prilično niske”, izbjegavajući tako ekstreme. Ova ideja dovodi nas do <strong>međukvartilnog raspona</strong> (engl. <em>interquartile range</em>, skraćeno IQR), jedne od najkorisnijih mjera disperzije u istraživanju medija.</p>
<p>Da bismo razumjeli međukvartilni raspon, najprije moramo razumjeti koncept <strong>kvartila</strong>. Kvartili dijele sortiran skup podataka na četiri jednaka dijela. <strong>Prvi kvartil</strong> (označava se kao <span class="math inline">\(Q_1\)</span> ili 25. percentil) je vrijednost takva da se 25% podataka nalazi ispod nje, a 75% iznad nje. <strong>Treći kvartil</strong> (<span class="math inline">\(Q_3\)</span> ili 75. percentil) je vrijednost takva da se 75% podataka nalazi ispod nje, a 25% iznad nje. Zapravo, već smo upoznati s jednim kvartilom – medijan je zapravo drugi kvartil (<span class="math inline">\(Q_2\)</span> ili 50. percentil), vrijednost koja dijeli podatke točno na pola.</p>
<p>Vratimo se našem primjeru s Index.hr portalom. Pretpostavimo da analitičar istražuje broj komentara na člancima objavljenim tijekom mjeseca. Prikupio je podatke za dvadeset članaka i sortirao ih od najmanjeg prema najvećem broju komentara: 5, 8, 12, 15, 18, 22, 25, 28, 32, 35, 38, 42, 45, 50, 55, 62, 68, 75, 82, 450. Primjećujemo da posljednji članak ima neobično velik broj komentara (450) – očito se radi o kontroverznoj temi koja je potakla veliku raspravu. Ako bismo izračunali raspon, dobili bismo <span class="math inline">\(450 - 5 = 445\)</span> komentara, što daje iskrivljenu sliku jer većina članaka ima daleko manje komentara.</p>
<p>Međukvartilni raspon pristupa problemu drugačije. Najprije identificiramo prvi kvartil <span class="math inline">\(Q_1\)</span> – vrijednost ispod koje se nalazi 25% podataka. Za naših dvadeset članaka, to bi bila vrijednost između petog i šestog članka u sortiranom nizu, što je oko 20 komentara. Slično, treći kvartil <span class="math inline">\(Q_3\)</span> bio bi vrijednost iznad koje se nalazi 25% podataka, što je oko 60 komentara. <strong>Međukvartilni raspon</strong> je tada jednostavno razlika:</p>
<p><span class="math display">\[IQR = Q_3 - Q_1\]</span></p>
<p>U našem primjeru, <span class="math inline">\(IQR \approx 60 - 20 = 40\)</span> komentara. Ova brojka nam govori da “srednja polovica” članaka – oni između 25. i 75. percentila – varira za oko 40 komentara. Valja primijetiti kako je ova mjera potpuno ignorirala onaj članak s 450 komentara, dajući nam tako realističniju sliku o varijabilnosti “tipičnih” članaka.</p>
<p>Međukvartilni raspon ima nekoliko važnih prednosti za istraživača masovne komunikacije. Najvažnija je njegova <strong>robusnost</strong> – nije osjetljiv na outliere, što je čini idealnom mjerom kada analiziramo podatke koji često sadrže ekstremne vrijednosti. Nadalje, IQR ima jasnu i intuitivnu interpretaciju: on nam govori koliko varira “srednja polovica” naših podataka. U kontekstu analize medijskih podataka, gdje često nailazimo na viralane objave, iznimno popularne članke ili druge ekstremne slučajeve koji nisu reprezentativni za “tipičnu” situaciju, međukvartilni raspon često pruža realističniju sliku varijabilnosti nego druge mjere.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Kada koristiti IQR?
</div>
</div>
<div class="callout-body-container callout-body">
<p>Međukvartilni raspon je posebno koristan kada:</p>
<ul>
<li>Podaci sadrže outliere koji nisu reprezentativni</li>
<li>Želimo razumjeti varijabilnost “tipičnih” slučajeva</li>
<li>Distribucija podataka je asimetrična</li>
<li>Koristimo medijan kao mjeru centralne tendencije (prirodno ga prati IQR)</li>
</ul>
</div>
</div>
<section id="sec-iqr-r" class="level4" data-number="1.2.1">
<h4 data-number="1.2.1" class="anchored" data-anchor-id="sec-iqr-r"><span class="header-section-number">1.2.1</span> Izračun u R-u</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Podaci o broju komentara na člancima Index.hr</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>komentari <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">12</span>, <span class="dv">15</span>, <span class="dv">18</span>, <span class="dv">22</span>, <span class="dv">25</span>, <span class="dv">28</span>, <span class="dv">32</span>, <span class="dv">35</span>, </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>               <span class="dv">38</span>, <span class="dv">42</span>, <span class="dv">45</span>, <span class="dv">50</span>, <span class="dv">55</span>, <span class="dv">62</span>, <span class="dv">68</span>, <span class="dv">75</span>, <span class="dv">82</span>, <span class="dv">450</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Izračun kvartila</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>Q1 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(komentari, <span class="at">probs =</span> <span class="fl">0.25</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>Q3 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(komentari, <span class="at">probs =</span> <span class="fl">0.75</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Prvi kvartil (Q1):"</span>, Q1))</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Treći kvartil (Q3):"</span>, Q3))</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"IQR:"</span>, Q3 <span class="sc">-</span> Q1))</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Direktan izračun IQR-a</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>iqr_vrijednost <span class="ot">&lt;-</span> <span class="fu">IQR</span>(komentari)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Međukvartilni raspon:"</span>, iqr_vrijednost))</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Vizualizacija box plotom</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(komentari, <span class="at">main =</span> <span class="st">"Broj komentara na člancima"</span>,</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">"Broj komentara"</span>, <span class="at">col =</span> <span class="st">"lightblue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="sec-varijanca" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="sec-varijanca"><span class="header-section-number">1.3</span> Varijanca</h3>
<p>Dosad smo razmatrali mjere disperzije koje se temelje na kvantilima – one gledaju razlike između određenih pozicija u sortiranom skupu podataka. Međutim, postoji drugačiji pristup mjerenju varijabilnosti, pristup koji uzima u obzir sve opservacije i mjeri koliko svaka od njih odstupa od središnje vrijednosti. Ovaj pristup vodi nas prema najvažnijoj mjeri disperzije u statistici: <strong>varijanci</strong>.</p>
<p>Razmotrimo sljedeći scenarij. Analitičar istražuje broj objava na Instagram profilu petero hrvatskih influencera tijekom tjedna. Prvi influencer objavljuje vrlo konzistentno: 3, 3, 3, 3, 3, 3, 3 objave svaki dan. Drugi influencer ima isti prosjek (3 objave dnevno), ali s većom varijacijom: 1, 2, 3, 3, 4, 5, 3 objave. Prosječna količina sadržaja je ista, ali obrazac ponašanja je potpuno drugačiji. Kako možemo kvantificirati ovu razliku? Intuitivno, trebali bismo gledati koliko svaka pojedina vrijednost odstupa od prosjeka, i nekako agregirati ta odstupanja u jednu brojku.</p>
<p>Ova intuicija vodi nas korak po korak prema varijanci. Započnimo s jednostavnim primjerom. Pretpostavimo da analiziramo gledanost pet epizoda televizijske serije na HRT-u. Broj gledatelja bio je: 180.000, 165.000, 195.000, 170.000, 190.000. Prvi korak je izračunati aritmetičku sredinu: <span class="math inline">\(\bar{X} = (180.000 + 165.000 + 195.000 + 170.000 + 190.000) / 5 = 180.000\)</span> gledatelja. Sada za svaku epizodu možemo izračunati koliko odstupa od ovog prosjeka. Za prvu epizodu, odstupanje je <span class="math inline">\(180.000 - 180.000 = 0\)</span>. Za drugu epizodu, odstupanje je <span class="math inline">\(165.000 - 180.000 = -15.000\)</span>. Negativan predznak pokazuje da je ova vrijednost ispod prosjeka.</p>
<p>Ovdje nailazimo na problem: ako bismo jednostavno zbrojili sva odstupanja, pozitivna i negativna odstupanja bi se poništila, dajući nam uvijek nulu. Nadalje, to nam ne pomaže kvantificirati varijabilnost. Postoje dva standardna rješenja za ovaj problem. Jedno je koristiti apsolutne vrijednosti odstupanja (što vodi prema srednjem apsolutnom odstupanju koje smo spomenuli ranije), a drugo je kvadrirati odstupanja prije nego što ih zbrojimo. Varijanca koristi drugi pristup – <strong>kvadrira odstupanja</strong>.</p>
<p>Zašto baš kvadriranje? Postoje elegantna matematička objašnjenja koja nadilaze opseg ovog udžbenika, ali osnovni razlog je pragmatičan: kvadriranje ima izvrsna statistička svojstva koja čine varijancu fundamentalnom za naprednije analize. Međutim, ova matematička elegancija dolazi s cijenom koju ćemo uskoro razmotriti. Za sada, nastavimo s izračunom. Za svaku opservaciju izračunavamo <strong>kvadrirano odstupanje</strong> <span class="math inline">\((X_i - \bar{X})^2\)</span>. Pogledajmo našu tablicu za gledanost serije:</p>
<div id="tbl-kvadrirana-odstupanja" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-kvadrirana-odstupanja-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Izračun kvadriranih odstupanja za gledanost televizijske serije
</figcaption>
<div aria-describedby="tbl-kvadrirana-odstupanja-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 19%">
<col style="width: 29%">
<col style="width: 41%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Epizoda</th>
<th style="text-align: left;">Gledatelji (<span class="math inline">\(X_i\)</span>)</th>
<th style="text-align: left;">Odstupanje (<span class="math inline">\(X_i - \bar{X}\)</span>)</th>
<th style="text-align: left;">Kvadrirano odstupanje <span class="math inline">\((X_i - \bar{X})^2\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">180.000</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">165.000</td>
<td style="text-align: left;">-15.000</td>
<td style="text-align: left;">225.000.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">195.000</td>
<td style="text-align: left;">15.000</td>
<td style="text-align: left;">225.000.000</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">170.000</td>
<td style="text-align: left;">-10.000</td>
<td style="text-align: left;">100.000.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">190.000</td>
<td style="text-align: left;">10.000</td>
<td style="text-align: left;">100.000.000</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p><strong>Varijanca</strong> je tada jednostavno prosjek ovih kvadriranih odstupanja. Označavamo je s <span class="math inline">\(s^2\)</span> ili <span class="math inline">\(\text{Var}(X)\)</span>, a formula je:</p>
<p><span id="eq-variance-population"><span class="math display">\[s^2 = \frac{1}{N}\sum_{i=1}^{N}(X_i - \bar{X})^2 \tag{1}\]</span></span></p>
<p>Za naš primjer: <span class="math inline">\(s^2 = (0 + 225.000.000 + 225.000.000 + 100.000.000 + 100.000.000) / 5 = 130.000.000\)</span>. Varijanca gledanosti je 130 milijuna. Ali 130 milijuna čega? Ovdje nailazimo na fundamentalni problem s varijancom.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Problem interpretacije varijance
</div>
</div>
<div class="callout-body-container callout-body">
<p>Varijanca je izražena u <strong>kvadratnim jedinicama</strong> izvorne varijable. Ako mjerimo gledatelje, varijanca je u “gledatelji na kvadrat”. To nema nikakvo realno značenje i čini varijancu gotovo nemogućom interpretirati izravno!</p>
</div>
</div>
<p>Ova činjenica predstavlja najveću slabost varijance kao deskriptivne statistike. Iako je matematički fundamentalna i ima izvrsna svojstva koja je čine nezamjenjivom u teorijskoj statistici i inferencijalnoj analizi, kada pokušavamo komunicirati nalaze ljudima, varijanca je beskorisna. Nitko ne razumije što znači “130 milijuna gledatelja-na-kvadrat”. Stoga, u praksi deskriptivne statistike, varijancu rijetko izvještavamo direktno. Međutim, ona služi kao temelj za mjeru koju možemo interpretirati: standardnu devijaciju.</p>
<section id="sec-variance-correction" class="level4" data-number="1.3.1">
<h4 data-number="1.3.1" class="anchored" data-anchor-id="sec-variance-correction"><span class="header-section-number">1.3.1</span> Varijanca uzorka vs.&nbsp;populacije</h4>
<p>Prije nego što prijeđemo na standardnu devijaciju, moramo razmotriti jednu tehničku finasu koja zbunjuje mnoge studente. Kada koristimo statističke programe poput R-a ili SPSS-a za izračun varijance, oni zapravo koriste malo drugačiju formulu od one koju smo gore prikazali. Umjesto dijeljenja s <span class="math inline">\(N\)</span>, oni dijele s <span class="math inline">\(N - 1\)</span>:</p>
<p><span id="eq-variance-sample"><span class="math display">\[\hat{s}^2 = \frac{1}{N-1}\sum_{i=1}^{N}(X_i - \bar{X})^2 \tag{2}\]</span></span></p>
<p>Ova promjena nije greška. Razlog leži u razlici između <strong>opisivanja uzorka</strong> i <strong>procjenjivanja karakteristika populacije</strong>. Većinu vremena, kada prikupljamo podatke u istraživanju medija, naš uzorak (npr. analizirano 100 članaka) predstavlja samo mali dio mnogo veće populacije (svi članci na tom portalu, ili svi mogući članci te vrste). Kada želimo na temelju uzorka procijeniti varijancu u populaciji, dijeljenje s <span class="math inline">\(N\)</span> daje <strong>pristrani procjenitelj</strong> – sustavno podcjenjuje pravu varijancu u populaciji. Dijeljenje s <span class="math inline">\(N - 1\)</span> korigira ovu pristranost i daje nam bolji procjenitelj.</p>
<p>U praksi, ova razlika postaje zanemariva kada imamo veće uzorke. Za <span class="math inline">\(N = 100\)</span>, razlika između dijeljenja s 100 i dijeljenja s 99 je minimalna. Međutim, za male uzorke (<span class="math inline">\(N &lt; 30\)</span>), korekcija može biti važna. Posljedično tome, statistički programi standardno koriste formulu s <span class="math inline">\(N - 1\)</span>, pretpostavljajući da želimo procijeniti varijancu populacije, a ne samo opisati uzorak. U nastavku ovog udžbenika, koristit ćemo istu konvenciju.</p>
</section>
<section id="sec-variance-r" class="level4" data-number="1.3.2">
<h4 data-number="1.3.2" class="anchored" data-anchor-id="sec-variance-r"><span class="header-section-number">1.3.2</span> Izračun u R-u</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Podaci o gledanosti epizoda serije na HRT-u (u tisućama)</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>gledanost_serija <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">180</span>, <span class="dv">165</span>, <span class="dv">195</span>, <span class="dv">170</span>, <span class="dv">190</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Izračun varijance - R koristi N-1 korekciju</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>varijanca <span class="ot">&lt;-</span> <span class="fu">var</span>(gledanost_serija)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Varijanca:"</span>, varijanca, <span class="st">"tisuća gledatelja na kvadrat"</span>))</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Ručni izračun za ilustraciju (s N-1)</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>prosjek <span class="ot">&lt;-</span> <span class="fu">mean</span>(gledanost_serija)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>odstupanja <span class="ot">&lt;-</span> gledanost_serija <span class="sc">-</span> prosjek</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>kvadrirana_odstupanja <span class="ot">&lt;-</span> odstupanja<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>varijanca_rucno <span class="ot">&lt;-</span> <span class="fu">sum</span>(kvadrirana_odstupanja) <span class="sc">/</span> (<span class="fu">length</span>(gledanost_serija) <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Varijanca (ručno):"</span>, varijanca_rucno))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="sec-standardna-devijacija" class="level3" data-number="1.4">
<h3 data-number="1.4" class="anchored" data-anchor-id="sec-standardna-devijacija"><span class="header-section-number">1.4</span> Standardna devijacija</h3>
<p>Problem neinterpretabilnosti varijance – činjenica da je izražena u kvadratnim jedinicama – ima jednostavno i elegantno rješenje: uzmimo <strong>kvadratni korijen</strong> varijance. Ovaj korijen naziva se <strong>standardna devijacija</strong> (skraćeno SD ili s), i jedna je od najvažnijih i najčešće korištenih mjera disperzije u statistici. Standardna devijacija zadržava sva dobra matematička svojstva varijance, ali je izražena u istim jedinicama kao i originalni podaci, što je čini daleko lakšom za razumijevanje i komunikaciju.</p>
<p>Vratimo se našem primjeru gledanosti televizijske serije na HRT-u, gdje smo izračunali da je varijanca 130.000.000 “gledatelja-na-kvadrat”. Ako uzmemo kvadratni korijen ove brojke, dobivamo: <span class="math inline">\(\sqrt{130.000.000} \approx 11.402\)</span> gledatelja. Sada imamo broj koji možemo razumjeti i komunikirati: standardna devijacija gledanosti je približno 11.400 gledatelja. Ovo je mjera “tipičnog” odstupanja od prosječne gledanosti.</p>
<p>Formalno, standardna devijacija definira se kao kvadratni korijen varijance. Označavamo je s <span class="math inline">\(s\)</span> (ili ponekad <span class="math inline">\(\sigma\)</span> za populacijsku standardnu devijaciju), a formula je:</p>
<p><span id="eq-standard-deviation"><span class="math display">\[s = \sqrt{\frac{1}{N-1}\sum_{i=1}^{N}(X_i - \bar{X})^2} \tag{3}\]</span></span></p>
<p>Ova formula jednostavno govori: izračunaj varijancu (kao što smo to već naučili), a zatim uzmi kvadratni korijen. Kako R standardno koristi <span class="math inline">\(N - 1\)</span> korekciju prilikom izračunavanja varijance, isto vrijedi i za standardnu devijaciju. Stoga, tehnički gledano, R izračunava <strong>procjenitelj standardne devijacije populacije</strong> na temelju uzorka, koji se ponekad označava s <span class="math inline">\(\hat{\sigma}\)</span> (čita se “sigma šešir”).</p>
<p>No, interpretacija standardne devijacije i dalje nije potpuno jednostavna. Iako je izražena u smislenim jedinicama, sama po sebi brojka “standardna devijacija je 11.400 gledatelja” ne govori nam intuitivno što to znači. Nadalje, trebamo neko pravilo za tumačenje. Srećom, postoji vrlo korisno pravilo koje vrijedi za mnogobrojne praktične situacije.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pravilo standardne devijacije (empirijsko pravilo)
</div>
</div>
<div class="callout-body-container callout-body">
<p>Za otprilike simetrične, zvonoliko oblikovane distribucije podataka, vrijedi sljedeće:</p>
<ul>
<li>Približno <strong>68%</strong> podataka pada u raspon <span class="math inline">\(\bar{X} \pm 1s\)</span> (sredina ± 1 standardna devijacija)</li>
<li>Približno <strong>95%</strong> podataka pada u raspon <span class="math inline">\(\bar{X} \pm 2s\)</span> (sredina ± 2 standardne devijacije)</li>
<li>Približno <strong>99.7%</strong> podataka pada u raspon <span class="math inline">\(\bar{X} \pm 3s\)</span> (sredina ± 3 standardne devijacije)</li>
</ul>
<p>Ovo se često naziva <strong>“pravilo 68-95-99.7”</strong> ili empirijsko pravilo.</p>
</div>
</div>
<p>Primijenimo ovo pravilo na naš primjer s gledanošću serije. Prosječna gledanost bila je 180.000, a standardna devijacija 11.400 gledatelja. Prema empirijskom pravilu, očekivali bismo da oko 68% epizoda ima gledanost između <span class="math inline">\(180.000 - 11.400 = 168.600\)</span> i <span class="math inline">\(180.000 + 11.400 = 191.400\)</span> gledatelja. Slično, gotovo sve epizode (99.7%) trebale bi imati gledanost između <span class="math inline">\(180.000 - 3 \times 11.400 = 145.800\)</span> i <span class="math inline">\(180.000 + 3 \times 11.400 = 214.200\)</span> gledatelja. Ako pronađemo epizodu s gledanošću izvan ovog raspona, ona bi predstavljala statistički neuobičajen slučaj koji zaslužuje posebnu pažnju.</p>
<p>Valja napomenuti da empirijsko pravilo nije apsolutno precizno – ono se temelji na pretpostavci da su podaci distribuirani na određeni način (tehnički, <strong>normalno distribuirani</strong>). U praksi, stvarni postotak podataka koji pada unutar jedne standardne devijacije može biti nešto veći ili manji od 68%, ovisno o obliku distribucije. Međutim, ovo pravilo je vrlo korisna aproksimacija koja nam daje intuitivnu referencu za razumijevanje što standardna devijacija znači.</p>
<p>U kontekstu istraživanja masovne komunikacije, standardna devijacija ima posebnu vrijednost. Zamislimo da uspoređujemo dva portala. Portal A ima prosječno 50.000 posjeta dnevno sa standardnom devijacijom od 5.000, dok portal B također ima prosječno 50.000 posjeta, ali sa standardnom devijacijom od 25.000. Iako oba portala imaju isti prosjek, portal A pokazuje daleko konzistentniju posjećenost – većina dana posjete su u relativno uskom rasponu. Portal B, s druge strane, pokazuje veliku varijabilnost – neki dani su vrlo slabi, drugi izuzetno jaki. Ova razlika u konzistentnosti može imati važne implikacije za poslovne odluke, planiranje sadržaja i razumijevanje publike.</p>
<p>Osim toga, standardna devijacija je ključna za mnoge naprednije statističke analize. Koristi se u testiranju hipoteza, izračunavanju intervala pouzdanosti, regresijskoj analizi i bezbrojnim drugim tehnikama koje ćemo razmatrati kasnije u ovom udžbeniku. Posljedično tome, solidno razumijevanje standardne devijacije nije samo korisno za deskriptivnu statistiku – ono je fundamentalno za cjelokupno statističko razmišljanje.</p>
<section id="sec-sd-r" class="level4" data-number="1.4.1">
<h4 data-number="1.4.1" class="anchored" data-anchor-id="sec-sd-r"><span class="header-section-number">1.4.1</span> Izračun u R-u</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Podaci o gledanosti epizoda serije na HRT-u (u tisućama)</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>gledanost_serija <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">180</span>, <span class="dv">165</span>, <span class="dv">195</span>, <span class="dv">170</span>, <span class="dv">190</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Izračun standardne devijacije</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>standardna_devijacija <span class="ot">&lt;-</span> <span class="fu">sd</span>(gledanost_serija)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Standardna devijacija:"</span>, <span class="fu">round</span>(standardna_devijacija, <span class="dv">2</span>), </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">"tisuća gledatelja"</span>))</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Primjena empirijskog pravila</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>prosjek <span class="ot">&lt;-</span> <span class="fu">mean</span>(gledanost_serija)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Prosječna gledanost:"</span>, prosjek, <span class="st">"tisuća"</span>))</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"68% epizoda između:"</span>, </span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(prosjek <span class="sc">-</span> standardna_devijacija, <span class="dv">2</span>), <span class="st">"i"</span>,</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(prosjek <span class="sc">+</span> standardna_devijacija, <span class="dv">2</span>), <span class="st">"tisuća"</span>))</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"95% epizoda između:"</span>, </span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(prosjek <span class="sc">-</span> <span class="dv">2</span><span class="sc">*</span>standardna_devijacija, <span class="dv">2</span>), <span class="st">"i"</span>,</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(prosjek <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>standardna_devijacija, <span class="dv">2</span>), <span class="st">"tisuća"</span>))</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Vizualizacija</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(gledanost_serija, <span class="at">breaks =</span> <span class="dv">5</span>, </span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Distribucija gledanosti s SD intervalima"</span>,</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Gledanost (tisuće)"</span>, <span class="at">col =</span> <span class="st">"lightblue"</span>)</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> prosjek, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> <span class="fu">c</span>(prosjek <span class="sc">-</span> standardna_devijacija, </span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>             prosjek <span class="sc">+</span> standardna_devijacija), </span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="st">"blue"</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="sec-usporedba-mjera" class="level3" data-number="1.5">
<h3 data-number="1.5" class="anchored" data-anchor-id="sec-usporedba-mjera"><span class="header-section-number">1.5</span> Usporedba mjera disperzije</h3>
<p>Sada kada smo detaljno razmotrili četiri glavne mjere disperzije – raspon, međukvartilni raspon, varijancu i standardnu devijaciju – vrijeme je da ih usporedimo i razmotrimo kada je koja mjera najprikladnija. Svaka od ovih mjera ima svoje snage i slabosti, i izbor između njih ovisi o prirodi podataka, prisutnosti outliera i specifičnim istraživačkim ciljevima.</p>
<p><strong>Robusnost na outliere</strong> predstavlja najvažniju razliku između ovih mjera. Raspon je potpuno nerobusna mjera – jedna ekstremna vrijednost može ga drastično promijeniti. Varijanca i standardna devijacija također su osjetljive na outliere jer kvadriraju odstupanja, što znači da ekstremne vrijednosti imaju neproporcionalno velik utjecaj na konačnu brojku. S druge strane, međukvartilni raspon je vrlo robusna mjera jer potpuno ignorira ekstremne kvartile podataka, fokusirajući se samo na “srednju polovicu”. Ova razlika čini IQR idealnim izborom kada radimo s podacima koji često sadrže outliere – što je česta situacija u analizi medijskih podataka gdje nailazimo na viralane objave, iznimno popularne članke ili druge ekstremne slučajeve.</p>
<p><strong>Korištenje informacija</strong> iz skupa podataka također varira među ovim mjerama. Raspon i međukvartilni raspon koriste samo malen broj vrijednosti iz cijelog skupa podataka – raspon gleda samo dvije vrijednosti (minimum i maksimum), dok IQR gleda četiri (kvartile). Nadalje, oni potpuno ignoriraju sve ostale informacije. S druge strane, varijanca i standardna devijacija koriste svaku pojedinu vrijednost u skupu podataka, računajući odstupanje svake od njih od prosjeka. Ovo čini varijancu i standardnu devijaciju bogatijim mjerama koje reflektiraju kompletnu distribuciju podataka, ali istovremeno znači da su osjetljivije na svaku promjenu u podacima.</p>
<p><strong>Interpretabilnost</strong> je područje gdje se jasno ističe standardna devijacija. Varijanca, iako matematički fundamentalna, je praktično neinterpretabilna zbog svojih kvadratnih jedinica. Raspon i IQR su razumljivi, ali nude samo grub osjećaj disperzije. Standardna devijacija, izražena u istim jedinicama kao i originalni podaci i podržana empirijskim pravilom, pruža najpotpuniju i najintuitivniju sliku varijabilnosti. Istraživač može jednostavno reći “prosječna gledanost je 180.000 sa standardnom devijacijom od 11.400 gledatelja”, i publika će razumjeti što to znači.</p>
<p><strong>Matematička svojstva</strong> su također važna, posebno za naprednije analize. Varijanca (a samim time i standardna devijacija) ima izvrsna matematička svojstva koja je čine temeljem gotovo svih naprednih statističkih metoda. Ona je aditivna (varijance nezavisnih varijabli se mogu zbrajati), diferencijabilna, i elegantno se ponaša u teorijskim razmatranjima. Posljedično tome, iako IQR može biti bolji izbor za deskriptivnu statistiku u prisutnosti outliera, standardna devijacija je gotovo uvijek preferirana u inferencijalnoj statistici i modeliranju.</p>
<div id="tbl-usporedba-mjera" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-usporedba-mjera-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Usporedba mjera disperzije
</figcaption>
<div aria-describedby="tbl-usporedba-mjera-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 15%">
<col style="width: 27%">
<col style="width: 26%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Mjera</th>
<th style="text-align: left;">Robusnost</th>
<th style="text-align: left;">Koristi sve podatke</th>
<th style="text-align: left;">Interpretabilnost</th>
<th style="text-align: left;">Koristi se za</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Raspon</td>
<td style="text-align: left;">Vrlo slaba</td>
<td style="text-align: left;">Ne (samo 2 vrijednosti)</td>
<td style="text-align: left;">Visoka</td>
<td style="text-align: left;">Brzi uvid u ekstreme</td>
</tr>
<tr class="even">
<td style="text-align: left;">IQR</td>
<td style="text-align: left;">Vrlo jaka</td>
<td style="text-align: left;">Ne (samo kvartili)</td>
<td style="text-align: left;">Visoka</td>
<td style="text-align: left;">Podaci s outlierima</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Varijanca</td>
<td style="text-align: left;">Slaba</td>
<td style="text-align: left;">Da</td>
<td style="text-align: left;">Niska (kvadratne jedinice)</td>
<td style="text-align: left;">Teorijske analize</td>
</tr>
<tr class="even">
<td style="text-align: left;">Standardna devijacija</td>
<td style="text-align: left;">Slaba</td>
<td style="text-align: left;">Da</td>
<td style="text-align: left;">Visoka</td>
<td style="text-align: left;">Univerzalna mjera</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>U praksi kvalitetnog istraživanja masovne komunikacije, često je korisno izvijestiti više mjera disperzije. Standardan pristup je izvijestiti aritmetičku sredinu i standardnu devijaciju za glavne rezultate, ali također priložiti medijan i IQR, posebno ako postoji sumnja na prisutnost outliera. Nadalje, grafički prikazi kao što su box plotovi mogu vizualizirati obje vrste informacija istovremeno, pokazujući i kvartile (IQR) i outliere. Ovaj sveobuhvatni pristup omogućuje čitateljima da dobiju najpotpuniju sliku o varijabilnosti u podacima.</p>
</section>
<section id="sec-izvjestavanje" class="level3" data-number="1.6">
<h3 data-number="1.6" class="anchored" data-anchor-id="sec-izvjestavanje"><span class="header-section-number">1.6</span> Praktične smjernice za izvještavanje</h3>
<p>Kada izvještavamo rezultate deskriptivne statistike u komunikološkom istraživanju, postoje određene konvencije i najbolje prakse koje olakšavaju čitanje i razumijevanje. Ove smjernice pomažu osigurati da naši rezultati budu i statistički korektni i jasno komunikativni.</p>
<p><strong>Parovanje mjera</strong>: Mjere centralne tendencije i disperzije prirodno dolaze u parovima. Kada izvještavamo aritmetičku sredinu, gotovo uvijek uz nju navodimo standardnu devijaciju. Slično, kada koristimo medijan, uz njega navodimo međukvartilni raspon. Ovo parovanje nije slučajno – obje mjere u paru dijele iste prednosti i nedostatke vezane uz robusnost na outliere. Primjer ispravnog izvještavanja: “Prosječan broj objava na dan bio je <span class="math inline">\(M = 12.5\)</span> (<span class="math inline">\(SD = 3.2\)</span>)”, ili “Medijan broja komentara bio je <span class="math inline">\(Mdn = 45\)</span> (<span class="math inline">\(IQR = 23\)</span>)”.</p>
<p><strong>Preciznost brojki</strong>: U društvenim znanostima, uključujući istraživanje medija, općenito je dovoljno izvijestiti rezultate na dvije decimale. Izvještavanje većeg broja decimala stvara lažan dojam preciznosti koji nije opravdan prirodom naših mjerenja. Međutim, valja biti dosljedan – ako izvještavamo srednju vrijednost na dvije decimale, isto činimo i za standardnu devijaciju.</p>
<p><strong>Kontekstualizacija</strong>: Brojke same po sebi rijetko govore potpunu priču. Valja uvijek pružiti kontekst koji pomaže interpretaciji. Na primjer: “Prosječna dnevna posjećenost portala bila je 850.000 korisnika (<span class="math inline">\(SD = 120.000\)</span>), što ukazuje na relativno konzistentnu publiku s varijacijom od približno 14% oko prosjeka.” Ovakva interpretacija pomaže čitateljima razumjeti što brojke zapravo znače u praksi.</p>
<p><strong>Grafički prikazi</strong>: Brojevi su važni, ali vizualizacije često komuniciraju jasnije. Box plot istovremeno prikazuje medijan, kvartile, IQR i outliere, pružajući kompletnu sliku distribucije. Histogram sa označenim prosjekom i standardnom devijacijom pokazuje ne samo srednju vrijednost i disperziju, već i oblik distribucije. Nadalje, dobro odabrani grafički prikaz često odmah otkriva obrasce koje bi iz samih brojki bilo teže uočiti.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preporuke za izvještavanje u publikacijama
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><strong>U tekstu</strong>: Navedite ključne vrijednosti s mjerama disperzije
<ul>
<li>Primjer: “Gledanost je u prosjeku bila 285.000 (<span class="math inline">\(SD = 42.000\)</span>)”</li>
</ul></li>
<li><strong>U tablicama</strong>: Prikazujte sve relevantne mjere
<ul>
<li>Uključite <span class="math inline">\(N\)</span>, <span class="math inline">\(M\)</span>, <span class="math inline">\(SD\)</span>, <span class="math inline">\(Mdn\)</span>, <span class="math inline">\(IQR\)</span>, min i max gdje je primjenjivo</li>
</ul></li>
<li><strong>U grafikonima</strong>: Vizualizirajte distribuciju
<ul>
<li>Box plotovi za usporedbe grupa</li>
<li>Histogrami s označenim SD intervalima za pojedine varijable</li>
</ul></li>
<li><strong>U interpretaciji</strong>: Uvijek kontekstualizirajte
<ul>
<li>Što brojke znače u kontekstu istraživačkog pitanja?</li>
<li>Jesu li razlike/varijacije praktično značajne?</li>
</ul></li>
</ol>
</div>
</div>
</section>
</section>
<section id="sažetak" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sažetak">Sažetak</h2>
<p>U ovoj sekciji razmotrili smo četiri temeljne mjere disperzije:</p>
<ul>
<li><strong>Raspon</strong> – razlika između maksimuma i minimuma, jednostavan ali nerobusran</li>
<li><strong>Međukvartilni raspon (IQR)</strong> – raspon srednje polovice podataka, robustan na outliere</li>
<li><strong>Varijanca</strong> (<span class="math inline">\(s^2\)</span>) – prosječno kvadrirano odstupanje, matematički fundamental ali teško interpretabilno</li>
<li><strong>Standardna devijacija</strong> (<span class="math inline">\(s\)</span>) – kvadratni korijen varijance, univerzalna mjera disperzije</li>
</ul>
<p>Izbor odgovarajuće mjere ovisi o prisutnosti outliera i istraživačkom cilju. U praksi je korisno izvještavati više mjera za potpuniju sliku varijabilnosti podataka.</p>
</section>
<section id="reference" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="reference">Reference</h2>
<div id="refs" role="list">

</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>