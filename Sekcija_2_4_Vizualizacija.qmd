---
title: "Vizualizacija podataka"
subtitle: "Poglavlje 2, Sekcija 2.4"
author: "Metode istraživanja masovne komunikacije"
format:
  html:
    toc: true
    toc-depth: 2
    number-sections: true
    code-fold: true
    theme: cosmo
  pdf:
    documentclass: article
    geometry: margin=1in
    fontsize: 12pt
    number-sections: true
lang: hr
---

## Vizualizacija podataka {#sec-vizualizacija}

Brojke same po sebi rijetko govore dovoljno jasnu priču. Prosječna gledanost od 285.000 gledatelja sa standardnom devijacijom od 42.000 pruža određeni uvid, ali taj uvid postaje daleko moćniji kada ga vizualiziramo. Histogram može odmah otkriti postoji li bimodalna distribucija (npr. radni dan vs. vikend), box plot može identificirati outliere, a dijagram raspršenja može razotkriti nelinearne odnose koje numeričke statistike propuštaju. Edward Tufte, jedan od najutjecajnijih mislilaca u području vizualizacije podataka, sažeo je ovu ideju jednostavno: "Iznad svega, pokažite podatke." U ovoj sekciji predstavit ćemo četiri temeljne vrste grafova koje su najkorisnije u istraživanju masovne komunikacije, uz praktične smjernice za njihovu izradu i interpretaciju.

### Histogram {#sec-histogram}

**Histogram** prikazuje distribuciju pojedinačne numeričke varijable dijeleći raspon vrijednosti na intervale (binove) i prikazujući koliko opservacija pada u svaki interval. Za istraživača masovne komunikacije, histogram je nezamjenjiv alat za razumijevanje kako su podaci distribuirani. Zamislimo da analiziramo trajanje 200 video clipova na YouTube kanalu RTL-a. Histogram odmah otkriva jesu li većina videa sličnog trajanja (uska distribucija) ili variraju široko (široka distribucija), postoje li jasne modalne vrijednosti (npr. klaster oko 2 minute za vijesti, drugi oko 15 minuta za reportaže), i ima li outliera koji zahtijevaju posebnu pažnju.

```{r}
#| label: fig-histogram
#| echo: true
#| eval: false
#| fig-cap: "Histogram trajanja YouTube videa RTL-a"

# Simulirani podaci: trajanje videa u sekundama
set.seed(456)
trajanje_videa <- c(rnorm(120, mean = 120, sd = 30),  # kratke vijesti
                    rnorm(60, mean = 900, sd = 180),   # duže reportaže
                    rnorm(20, mean = 300, sd = 50))    # srednje dugi sadržaji

# Kreiranje histograma
hist(trajanje_videa, 
     breaks = 20,
     main = "Distribucija trajanja videa na RTL YouTube kanalu",
     xlab = "Trajanje (sekunde)",
     ylab = "Frekvencija",
     col = "lightblue",
     border = "darkblue")

# Dodavanje vertikalne linije za prosjek
abline(v = mean(trajanje_videa), col = "red", lwd = 2, lty = 2)
legend("topright", legend = "Prosjek", col = "red", lwd = 2, lty = 2)
```

Ključ dobrog histograma leži u izboru broja intervala (binova). Premalo intervala stvara grub prikaz koji skriva detalje distribucije, dok previše intervala stvara isprekidan prikaz gdje svaki bin sadrži samo nekoliko opservacija. Valja eksperimentirati s različitim brojevima binova (argument `breaks` u R-u) dok ne pronađete prikaz koji najbolje komunicira oblik distribucije.

### Box plot (dijagram pravokutnika) {#sec-boxplot}

**Box plot** elegantno sažima distribuciju kroz pet ključnih statistika: minimum, prvi kvartil (Q1), medijan, treći kvartil (Q3) i maksimum. Pravokutnik obuhvaća međukvartilni raspon (od Q1 do Q3) s linijom označenom na medijanu, dok "brkovi" protežu se prema najnižim i najvišim vrijednostima koje nisu outlieri. Točke izvan brkova označavaju outliere – vrijednosti izvan 1.5 × IQR od rubova pravokutnika. Za komunikologa, box plot je idealan za usporedbe između grupa. Usporedimo li gledanost emisija na HRT-u, Nova TV i RTL-u pomoću box plota, odmah vidimo ne samo razlike u medijanima, već i razlike u varijabilnosti i prisutnost eventualnih ekstremnih vrijednosti.

```{r}
#| label: fig-boxplot
#| echo: true
#| eval: false
#| fig-cap: "Usporedba gledanosti između televizijskih kuća"

# Simulirani podaci: gledanost u tisućama
set.seed(789)
gledanost_data <- data.frame(
  gledanost = c(rnorm(30, mean = 250, sd = 40),   # HRT
                rnorm(30, mean = 320, sd = 55),   # Nova TV
                rnorm(30, mean = 290, sd = 48)),  # RTL
  tv_kuca = rep(c("HRT", "Nova TV", "RTL"), each = 30)
)

# Kreiranje box plota
boxplot(gledanost ~ tv_kuca, 
        data = gledanost_data,
        main = "Gledanost večernjih vijesti po TV kućama",
        xlab = "TV kuća",
        ylab = "Gledanost (tisuće)",
        col = c("lightblue", "lightgreen", "lightyellow"),
        border = "darkblue")

# Dodavanje točaka za prosjeke
means <- tapply(gledanost_data$gledanost, 
                gledanost_data$tv_kuca, mean)
points(1:3, means, pch = 19, col = "red", cex = 1.5)
legend("topright", legend = "Prosjek", col = "red", pch = 19)
```

Box plot je posebno vrijedan jer je robustan na outliere – njegova struktura čini outliere vidljivima ali oni ne iskrivljuju glavni prikaz distribucije. Nadalje, omogućuje brzu vizualnu procjenu asimetrije distribucije: ako medijan nije u sredini pravokutnika, distribucija je asimetrična.

### Dijagram raspršenja (scatterplot) {#sec-scatterplot}

**Dijagram raspršenja** prikazuje odnos između dvije numeričke varijable tako što svaku opservaciju reprezentira kao točku u dvodimenzionalnom prostoru. Ovo je fundamentalan alat za istraživanje korelacija. Zamislimo da istražujemo odnos između duljine članka na Index.hr-u (x-os) i broja komentara koje članak primi (y-os). Dijagram raspršenja odmah otkriva postoji li pozitivan, negativan ili nikakav odnos, koliko je taj odnos jak (koliko su točke skupljene oko zamišljene linije), i je li odnos linearan ili nelinearan. Valja istaknuti da numerička korelacija nikad ne bi trebala biti izvještena bez vizualnog pregleda putem dijagrama raspršenja – Anscombeov kvartet nam poučno pokazuje da četiri potpuno različita skupa podataka mogu imati identične korelacije.

```{r}
#| label: fig-scatterplot
#| echo: true
#| eval: false
#| fig-cap: "Odnos između duljine članka i broja komentara"

# Simulirani podaci
set.seed(101)
duljina_clanka <- rnorm(100, mean = 800, sd = 250)
broj_komentara <- 5 + 0.08 * duljina_clanka + rnorm(100, mean = 0, sd = 20)

# Kreiranje scatterplota
plot(duljina_clanka, broj_komentara,
     main = "Duljina članka vs. Broj komentara (Index.hr)",
     xlab = "Duljina članka (riječi)",
     ylab = "Broj komentara",
     pch = 19,
     col = rgb(0, 0, 1, 0.5))  # transparentne plave točke

# Dodavanje linije trenda
abline(lm(broj_komentara ~ duljina_clanka), col = "red", lwd = 2)

# Dodavanje korelacije u graf
r <- cor(duljina_clanka, broj_komentara)
text(400, 90, paste("r =", round(r, 2)), cex = 1.2, col = "red")
```

Dijagram raspršenja takođe olakšava identifikaciju outliera i utjecajnih točaka. Pojedinačna opservacija koja dramatično odstupa od općeg obrasca može značajno utjecati na izračunatu korelaciju, i vizualni pregled odmah otkriva takve slučajeve.

### Stupčasti grafikon (bar plot) {#sec-barplot}

**Stupčasti grafikon** prikazuje frekvencije ili prosjeke za kategorijske varijable. Za komunikologa koji analizira sadržaj medija, stupčasti grafikoni su prirodan izbor za prikaz distribucija tema, žanrova ili drugih nominalnih varijabli. Ako analiziramo dominantne teme u glavnim vijestima HRT-a tijekom mjeseca, stupčasti grafikon jasno komunicira koje teme dominiraju medijskim prostorom. Osim jednostavnih frekvencija, stupčasti grafikoni mogu prikazivati grupiranu usporedbu (npr. distribuciju tema na HRT-u, Nova TV i RTL-u usporedno) ili usporedbu prosjeka između grupa.

```{r}
#| label: fig-barplot
#| echo: true
#| eval: false
#| fig-cap: "Distribucija tema u glavnim vijestima HRT-a"

# Podaci o temama vijesti
teme <- c("Politika", "Gospodarstvo", "Kriminal", "Zdravstvo", 
          "Sport", "Kultura", "Ostalo")
frekvencije <- c(45, 28, 22, 18, 15, 12, 10)

# Kreiranje stupčastog grafikona
barplot(frekvencije,
        names.arg = teme,
        main = "Dominantne teme u HRT Dnevniku (30 dana)",
        xlab = "Tema",
        ylab = "Broj izvještaja",
        col = "steelblue",
        border = "white",
        las = 2)  # vertikalne oznake na x-osi

# Dodavanje vrijednosti iznad stupaca
text(x = seq(0.7, by = 1.2, length.out = 7), 
     y = frekvencije + 2, 
     labels = frekvencije, 
     cex = 0.9)
```

Pri kreiranju stupčastih grafikona, valja voditi računa o redoslijedu kategorija. Za ordinalne varijable (npr. "nikad", "rijetko", "često"), redoslijed je prirodno određen. Za nominalne varijable bez inherentnog redoslijeda, često je korisno sortirati stupce od najviše do najniže vrijednosti, što olakšava usporedbe i čini graf informativnijim.

### Smjernice za učinkovitu vizualizaciju {#sec-smjernice}

Neovisno o vrsti grafa, nekoliko principa osigurava učinkovitu komunikaciju. **Prvo**, graf mora biti samoobjasnljiv: naslov, oznake osi i legenda trebaju biti dovoljne da čitatelj razumije što graf prikazuje bez čitanja okolnog teksta. **Drugo**, izbjegavajte 3D efekte, nepotrebne boje i dekorativne elemente koji ometaju čitanje podataka – Edward Tufte to naziva "chart junk". **Treće**, birајte skale osi pažljivo: prekinute y-osi mogu preuveličati razlike, dok neprimjereno široke skale mogu ih prikriti. **Četvrto**, kada prikazujete više grupa ili varijabli, koristite jasne, razlikovne boje i uvijek uključite legendu.

::: {.callout-tip}
## Kontrolna lista za kvalitetnu vizualizaciju

- ✓ Jasan, informativan naslov
- ✓ Oznake osi s jedinicama
- ✓ Legenda kada je potrebna
- ✓ Primjerene veličine fonta (čitljivo)
- ✓ Visok omjer podataka prema "tinti" (minimalna dekoracija)
- ✓ Odabir odgovarajuće vrste grafa za tip podataka
- ✓ Vidljivi podaci (ne skriveni iza nepotrebnih efekata)
:::

## Sažetak {.unnumbered}

Vizualizacija podataka nije samo estetska nadopuna numeričkim statistikama – ona je fundamentalan alat za razumijevanje i komunikaciju nalaza. Četiri temeljna grafa pokrivaju većinu potreba u istraživanju medija:

- **Histogram** – distribucija numeričke varijable
- **Box plot** – usporedba distribucija između grupa, robustan na outliere  
- **Dijagram raspršenja** – odnos između dvije numeričke varijable
- **Stupčasti grafikon** – frekvencije ili prosjeci kategorijskih varijabli

Dobra vizualizacija kombinira statističku točnost s jasnom komunikacijom, omogućujući čitatelju da brzo i točno razumije bitne karakteristike podataka.
